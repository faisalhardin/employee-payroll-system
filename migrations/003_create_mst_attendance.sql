CREATE TABLE mst_attendance (
    id SERIAL PRIMARY KEY,
    id_mst_user BIGINT NOT NULL,
    id_mst_payroll_period bigint null,
    attendance_date DATE NOT NULL,
    created_at TIMESTAMPTZ DEFAULT now(),
    updated_at TIMESTAMPTZ DEFAULT now(),
    created_by BIGINT NULL,
    updated_by BIGINT NULL
);

CREATE INDEX idx_user_id ON mst_attendance (id_mst_user);
CREATE INDEX idx_attendance_date ON mst_attendance (attendance_date);
CREATE INDEX idx_user_attendance ON mst_attendance (id_mst_user, attendance_date);

INSERT INTO mst_attendance (id_mst_user, id_mst_payroll_period, attendance_date, created_by) VALUES
(2, NULL, '2025-06-20', 1), (2, NULL, '2025-06-21', 1), (2, NULL, '2025-06-22', 1), (2, NULL, '2025-06-23', 1), (2, NULL, '2025-06-24', 1), (2, NULL, '2025-06-25', 1), (2, NULL, '2025-06-26', 1), (2, NULL, '2025-06-27', 1), (2, NULL, '2025-06-28', 1), (2, NULL, '2025-06-29', 1), (2, NULL, '2025-06-30', 1), (2, NULL, '2025-07-01', 1), (2, NULL, '2025-07-02', 1), (2, NULL, '2025-07-03', 1), (2, NULL, '2025-07-04', 1), (2, NULL, '2025-07-05', 1), (2, NULL, '2025-07-06', 1), (2, NULL, '2025-07-07', 1), (2, NULL, '2025-07-08', 1), (2, NULL, '2025-07-09', 1), (2, NULL, '2025-07-10', 1), (2, NULL, '2025-07-11', 1), (2, NULL, '2025-07-12', 1), (2, NULL, '2025-07-13', 1), (2, NULL, '2025-07-14', 1), (2, NULL, '2025-07-15', 1), (2, NULL, '2025-07-16', 1), (2, NULL, '2025-07-17', 1), (2, NULL, '2025-07-18', 1), (2, NULL, '2025-07-19', 1), (2, NULL, '2025-07-20', 1),
(3, NULL, '2025-06-20', 1), (3, NULL, '2025-06-21', 1), (3, NULL, '2025-06-22', 1), (3, NULL, '2025-06-23', 1), (3, NULL, '2025-06-24', 1), (3, NULL, '2025-06-25', 1), (3, NULL, '2025-06-26', 1), (3, NULL, '2025-06-27', 1), (3, NULL, '2025-06-28', 1), (3, NULL, '2025-06-29', 1), (3, NULL, '2025-06-30', 1), (3, NULL, '2025-07-01', 1), (3, NULL, '2025-07-02', 1), (3, NULL, '2025-07-03', 1), (3, NULL, '2025-07-04', 1), (3, NULL, '2025-07-05', 1), (3, NULL, '2025-07-06', 1), (3, NULL, '2025-07-07', 1), (3, NULL, '2025-07-08', 1), (3, NULL, '2025-07-09', 1), (3, NULL, '2025-07-10', 1), (3, NULL, '2025-07-11', 1), (3, NULL, '2025-07-12', 1), (3, NULL, '2025-07-13', 1), (3, NULL, '2025-07-14', 1), (3, NULL, '2025-07-15', 1), (3, NULL, '2025-07-16', 1), (3, NULL, '2025-07-17', 1), (3, NULL, '2025-07-18', 1), (3, NULL, '2025-07-19', 1), (3, NULL, '2025-07-20', 1),
(4, NULL, '2025-06-20', 1), (4, NULL, '2025-06-21', 1), (4, NULL, '2025-06-22', 1), (4, NULL, '2025-06-23', 1), (4, NULL, '2025-06-24', 1), (4, NULL, '2025-06-25', 1), (4, NULL, '2025-06-26', 1), (4, NULL, '2025-06-27', 1), (4, NULL, '2025-06-28', 1), (4, NULL, '2025-06-29', 1), (4, NULL, '2025-06-30', 1), (4, NULL, '2025-07-01', 1), (4, NULL, '2025-07-02', 1), (4, NULL, '2025-07-03', 1), (4, NULL, '2025-07-04', 1), (4, NULL, '2025-07-05', 1), (4, NULL, '2025-07-06', 1), (4, NULL, '2025-07-07', 1), (4, NULL, '2025-07-08', 1), (4, NULL, '2025-07-09', 1), (4, NULL, '2025-07-10', 1), (4, NULL, '2025-07-11', 1), (4, NULL, '2025-07-12', 1), (4, NULL, '2025-07-13', 1), (4, NULL, '2025-07-14', 1), (4, NULL, '2025-07-15', 1), (4, NULL, '2025-07-16', 1), (4, NULL, '2025-07-17', 1), (4, NULL, '2025-07-18', 1), (4, NULL, '2025-07-19', 1), (4, NULL, '2025-07-20', 1),
(5, NULL, '2025-06-20', 1), (5, NULL, '2025-06-21', 1), (5, NULL, '2025-06-22', 1), (5, NULL, '2025-06-23', 1), (5, NULL, '2025-06-24', 1), (5, NULL, '2025-06-25', 1), (5, NULL, '2025-06-26', 1), (5, NULL, '2025-06-27', 1), (5, NULL, '2025-06-28', 1), (5, NULL, '2025-06-29', 1), (5, NULL, '2025-06-30', 1), (5, NULL, '2025-07-01', 1), (5, NULL, '2025-07-02', 1), (5, NULL, '2025-07-03', 1), (5, NULL, '2025-07-04', 1), (5, NULL, '2025-07-05', 1), (5, NULL, '2025-07-06', 1), (5, NULL, '2025-07-07', 1), (5, NULL, '2025-07-08', 1), (5, NULL, '2025-07-09', 1), (5, NULL, '2025-07-10', 1), (5, NULL, '2025-07-11', 1), (5, NULL, '2025-07-12', 1), (5, NULL, '2025-07-13', 1), (5, NULL, '2025-07-14', 1), (5, NULL, '2025-07-15', 1), (5, NULL, '2025-07-16', 1), (5, NULL, '2025-07-17', 1), (5, NULL, '2025-07-18', 1), (5, NULL, '2025-07-19', 1), (5, NULL, '2025-07-20', 1),
(6, NULL, '2025-06-20', 1), (6, NULL, '2025-06-21', 1), (6, NULL, '2025-06-22', 1), (6, NULL, '2025-06-23', 1), (6, NULL, '2025-06-24', 1), (6, NULL, '2025-06-25', 1), (6, NULL, '2025-06-26', 1), (6, NULL, '2025-06-27', 1), (6, NULL, '2025-06-28', 1), (6, NULL, '2025-06-29', 1), (6, NULL, '2025-06-30', 1), (6, NULL, '2025-07-01', 1), (6, NULL, '2025-07-02', 1), (6, NULL, '2025-07-03', 1), (6, NULL, '2025-07-04', 1), (6, NULL, '2025-07-05', 1), (6, NULL, '2025-07-06', 1), (6, NULL, '2025-07-07', 1), (6, NULL, '2025-07-08', 1), (6, NULL, '2025-07-09', 1), (6, NULL, '2025-07-10', 1), (6, NULL, '2025-07-11', 1), (6, NULL, '2025-07-12', 1), (6, NULL, '2025-07-13', 1), (6, NULL, '2025-07-14', 1), (6, NULL, '2025-07-15', 1), (6, NULL, '2025-07-16', 1), (6, NULL, '2025-07-17', 1), (6, NULL, '2025-07-18', 1), (6, NULL, '2025-07-19', 1), (6, NULL, '2025-07-20', 1),
(7, NULL, '2025-06-20', 1), (7, NULL, '2025-06-21', 1), (7, NULL, '2025-06-22', 1), (7, NULL, '2025-06-23', 1), (7, NULL, '2025-06-24', 1), (7, NULL, '2025-06-25', 1), (7, NULL, '2025-06-26', 1), (7, NULL, '2025-06-27', 1), (7, NULL, '2025-06-28', 1), (7, NULL, '2025-06-29', 1), (7, NULL, '2025-06-30', 1), (7, NULL, '2025-07-01', 1), (7, NULL, '2025-07-02', 1), (7, NULL, '2025-07-03', 1), (7, NULL, '2025-07-04', 1), (7, NULL, '2025-07-05', 1), (7, NULL, '2025-07-06', 1), (7, NULL, '2025-07-07', 1), (7, NULL, '2025-07-08', 1), (7, NULL, '2025-07-09', 1), (7, NULL, '2025-07-10', 1), (7, NULL, '2025-07-11', 1), (7, NULL, '2025-07-12', 1), (7, NULL, '2025-07-13', 1), (7, NULL, '2025-07-14', 1), (7, NULL, '2025-07-15', 1), (7, NULL, '2025-07-16', 1), (7, NULL, '2025-07-17', 1), (7, NULL, '2025-07-18', 1), (7, NULL, '2025-07-19', 1), (7, NULL, '2025-07-20', 1),
(8, NULL, '2025-06-20', 1), (8, NULL, '2025-06-21', 1), (8, NULL, '2025-06-22', 1), (8, NULL, '2025-06-23', 1), (8, NULL, '2025-06-24', 1), (8, NULL, '2025-06-25', 1), (8, NULL, '2025-06-26', 1), (8, NULL, '2025-06-27', 1), (8, NULL, '2025-06-28', 1), (8, NULL, '2025-06-29', 1), (8, NULL, '2025-06-30', 1), (8, NULL, '2025-07-01', 1), (8, NULL, '2025-07-02', 1), (8, NULL, '2025-07-03', 1), (8, NULL, '2025-07-04', 1), (8, NULL, '2025-07-05', 1), (8, NULL, '2025-07-06', 1), (8, NULL, '2025-07-07', 1), (8, NULL, '2025-07-08', 1), (8, NULL, '2025-07-09', 1), (8, NULL, '2025-07-10', 1), (8, NULL, '2025-07-11', 1), (8, NULL, '2025-07-12', 1), (8, NULL, '2025-07-13', 1), (8, NULL, '2025-07-14', 1), (8, NULL, '2025-07-15', 1), (8, NULL, '2025-07-16', 1), (8, NULL, '2025-07-17', 1), (8, NULL, '2025-07-18', 1), (8, NULL, '2025-07-19', 1), (8, NULL, '2025-07-20', 1),
(9, NULL, '2025-06-20', 1), (9, NULL, '2025-06-21', 1), (9, NULL, '2025-06-22', 1), (9, NULL, '2025-06-23', 1), (9, NULL, '2025-06-24', 1), (9, NULL, '2025-06-25', 1), (9, NULL, '2025-06-26', 1), (9, NULL, '2025-06-27', 1), (9, NULL, '2025-06-28', 1), (9, NULL, '2025-06-29', 1), (9, NULL, '2025-06-30', 1), (9, NULL, '2025-07-01', 1), (9, NULL, '2025-07-02', 1), (9, NULL, '2025-07-03', 1), (9, NULL, '2025-07-04', 1), (9, NULL, '2025-07-05', 1), (9, NULL, '2025-07-06', 1), (9, NULL, '2025-07-07', 1), (9, NULL, '2025-07-08', 1), (9, NULL, '2025-07-09', 1), (9, NULL, '2025-07-10', 1), (9, NULL, '2025-07-11', 1), (9, NULL, '2025-07-12', 1), (9, NULL, '2025-07-13', 1), (9, NULL, '2025-07-14', 1), (9, NULL, '2025-07-15', 1), (9, NULL, '2025-07-16', 1), (9, NULL, '2025-07-17', 1), (9, NULL, '2025-07-18', 1), (9, NULL, '2025-07-19', 1), (9, NULL, '2025-07-20', 1),
(10, NULL, '2025-06-20', 1), (10, NULL, '2025-06-21', 1), (10, NULL, '2025-06-22', 1), (10, NULL, '2025-06-23', 1), (10, NULL, '2025-06-24', 1), (10, NULL, '2025-06-25', 1), (10, NULL, '2025-06-26', 1), (10, NULL, '2025-06-27', 1), (10, NULL, '2025-06-28', 1), (10, NULL, '2025-06-29', 1), (10, NULL, '2025-06-30', 1), (10, NULL, '2025-07-01', 1), (10, NULL, '2025-07-02', 1), (10, NULL, '2025-07-03', 1), (10, NULL, '2025-07-04', 1), (10, NULL, '2025-07-05', 1), (10, NULL, '2025-07-06', 1), (10, NULL, '2025-07-07', 1), (10, NULL, '2025-07-08', 1), (10, NULL, '2025-07-09', 1), (10, NULL, '2025-07-10', 1), (10, NULL, '2025-07-11', 1), (10, NULL, '2025-07-12', 1), (10, NULL, '2025-07-13', 1), (10, NULL, '2025-07-14', 1), (10, NULL, '2025-07-15', 1), (10, NULL, '2025-07-16', 1), (10, NULL, '2025-07-17', 1), (10, NULL, '2025-07-18', 1), (10, NULL, '2025-07-19', 1), (10, NULL, '2025-07-20', 1),
(11, NULL, '2025-06-20', 1), (11, NULL, '2025-06-21', 1), (11, NULL, '2025-06-22', 1), (11, NULL, '2025-06-23', 1), (11, NULL, '2025-06-24', 1), (11, NULL, '2025-06-25', 1), (11, NULL, '2025-06-26', 1), (11, NULL, '2025-06-27', 1), (11, NULL, '2025-06-28', 1), (11, NULL, '2025-06-29', 1), (11, NULL, '2025-06-30', 1), (11, NULL, '2025-07-01', 1), (11, NULL, '2025-07-02', 1), (11, NULL, '2025-07-03', 1), (11, NULL, '2025-07-04', 1), (11, NULL, '2025-07-05', 1), (11, NULL, '2025-07-06', 1), (11, NULL, '2025-07-07', 1), (11, NULL, '2025-07-08', 1), (11, NULL, '2025-07-09', 1), (11, NULL, '2025-07-10', 1), (11, NULL, '2025-07-11', 1), (11, NULL, '2025-07-12', 1), (11, NULL, '2025-07-13', 1), (11, NULL, '2025-07-14', 1), (11, NULL, '2025-07-15', 1), (11, NULL, '2025-07-16', 1), (11, NULL, '2025-07-17', 1), (11, NULL, '2025-07-18', 1), (11, NULL, '2025-07-19', 1), (11, NULL, '2025-07-20', 1),
(101, NULL, '2025-06-20', 1), (101, NULL, '2025-06-21', 1), (101, NULL, '2025-06-22', 1), (101, NULL, '2025-06-23', 1), (101, NULL, '2025-06-24', 1), (101, NULL, '2025-06-25', 1), (101, NULL, '2025-06-26', 1), (101, NULL, '2025-06-27', 1), (101, NULL, '2025-06-28', 1), (101, NULL, '2025-06-29', 1), (101, NULL, '2025-06-30', 1), (101, NULL, '2025-07-01', 1), (101, NULL, '2025-07-02', 1), (101, NULL, '2025-07-03', 1), (101, NULL, '2025-07-04', 1), (101, NULL, '2025-07-05', 1), (101, NULL, '2025-07-06', 1), (101, NULL, '2025-07-07', 1), (101, NULL, '2025-07-08', 1), (101, NULL, '2025-07-09', 1), (101, NULL, '2025-07-10', 1), (101, NULL, '2025-07-11', 1), (101, NULL, '2025-07-12', 1), (101, NULL, '2025-07-13', 1), (101, NULL, '2025-07-14', 1), (101, NULL, '2025-07-15', 1), (101, NULL, '2025-07-16', 1), (101, NULL, '2025-07-17', 1), (101, NULL, '2025-07-18', 1), (101, NULL, '2025-07-19', 1), (101, NULL, '2025-07-20', 1);
